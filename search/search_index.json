{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"BoMI Body Machine Interface (BoMI) is a GUI application for the control of a computer cursor with wearable body sensors. BoMI also implements the StartReact experiments to study spinal cord injury. Getting Started Install BoMI Overview of the BoMI GUI Running a StartReact Experiment","title":"BoMI"},{"location":"#getting-started","text":"Install BoMI Overview of the BoMI GUI Running a StartReact Experiment","title":"Getting Started"},{"location":"develop/","text":"External Sensor Interface The Yost 3-Space Python API is included in the source code and has been modified for compatibility with Python>=3.8. The Delsys Trigno Control Utility (Delsys SDK Server) must be running on a computer connected to the Delsys base station for the EMG part to work. The trigno_sdk package implements a client to the Delsys SDK, which communicates over TCP. Refer to the Trigno SDK User's Guide document to learn more about its internals.","title":"Develop"},{"location":"develop/#external-sensor-interface","text":"The Yost 3-Space Python API is included in the source code and has been modified for compatibility with Python>=3.8. The Delsys Trigno Control Utility (Delsys SDK Server) must be running on a computer connected to the Delsys base station for the EMG part to work. The trigno_sdk package implements a client to the Delsys SDK, which communicates over TCP. Refer to the Trigno SDK User's Guide document to learn more about its internals.","title":"External Sensor Interface"},{"location":"install/","text":"Install BoMI 1. Create a virtual environment with Conda. This application requires Python>=3.10 , hence we're going to use conda to install a compatible version of Python. On Windows , use the Anaconda Powershell Prompt . If you don't have Anaconda or Miniconda installed, I recommend Miniconda . $ conda create -y -n bomi python==3.10 2. Activate the conda environment. After this, you should see (bomi) in front of your command line prompt. $ conda activate bomi # (bomi) $$ 3. Clone the git repo. Git with SSH is recommended . # (bomi) $$ git clone git@github.com:SeanezLab/BoMI-py.git 4. Install the packages with pip. This installs 3 packages: bomi , threespace_api and trigno_sdk . On Windows: # (bomi) $$ cd BoMI-py # (bomi) $$ python -m pip install . On MacOS and Linux: # (bomi) $$ cd BoMI-py # (bomi) $$ python3 -m pip install . 5. Start BoMI To test the installation of BoMI-py, run the command bomi . # (bomi) $$ bomi The BoMI window will open.","title":"Install"},{"location":"install/#install-bomi","text":"","title":"Install BoMI"},{"location":"install/#1-create-a-virtual-environment-with-conda","text":"This application requires Python>=3.10 , hence we're going to use conda to install a compatible version of Python. On Windows , use the Anaconda Powershell Prompt . If you don't have Anaconda or Miniconda installed, I recommend Miniconda . $ conda create -y -n bomi python==3.10","title":"1. Create a virtual environment with Conda."},{"location":"install/#2-activate-the-conda-environment","text":"After this, you should see (bomi) in front of your command line prompt. $ conda activate bomi # (bomi) $$","title":"2. Activate the conda environment."},{"location":"install/#3-clone-the-git-repo","text":"Git with SSH is recommended . # (bomi) $$ git clone git@github.com:SeanezLab/BoMI-py.git","title":"3. Clone the git repo."},{"location":"install/#4-install-the-packages-with-pip","text":"This installs 3 packages: bomi , threespace_api and trigno_sdk . On Windows: # (bomi) $$ cd BoMI-py # (bomi) $$ python -m pip install . On MacOS and Linux: # (bomi) $$ cd BoMI-py # (bomi) $$ python3 -m pip install .","title":"4. Install the packages with pip."},{"location":"install/#5-start-bomi","text":"To test the installation of BoMI-py, run the command bomi . # (bomi) $$ bomi The BoMI window will open.","title":"5. Start BoMI"},{"location":"overview/","text":"Overview of the BoMI GUI The home screen is divided into Group Boxes, grouped by functionality. Yost Device Manager Trigno Device Manager StartReact Cursor Tasks Cursor Control Yost Device Manager The Yost Device Manager manages the Yost 3-Space Sensors , which provides BoMI with real-time orientation data. Plug the sensors or dongles via USB to the computer, then click \" Discover Devices \" to see a list of devices. \" Tare Devices \" tares all wired and wireless sensors. \" Data Charts \" brings up a scope that visualizes orientation data from all connected sensors. Certain columns of the table showing the list of devices are editable: Nicknames: set a custom name to the devices (e.g., knee, ankle) that will be shown in the scope and in the saved data. Channel: wireless channel of the Yost sensor. Only editable when a wireless sensors is connected through USB. Pan ID: wireless pan ID of the Yost sensor. Only editable when a wireless sensors is connected through USB. (For a sensor and dongle to pair, they must be using the same Channel and Pan ID . It's easier to set this through the 3-Space Sensor Suite GUI ). \" Commit all settings \" commits the edited settings to device. (Nickname is only saved during a BoMI session and not persisted to device) \" Disconnect All \" disconnects from all devices and dongles. Trigno Device Manager The Trigno Device Manager manages the Trigno Research System from Delsys. Make sure the Trigno Control Utility (Trigno SDK Server) is running on the computer connected to the Base Station, and the IP address of the computer is entered correctly, then click \" Connect \" to connect to the Base Station. Use the sensor widgets to assign a muscle to each sensor before collecting data. StartReact \"Configure\" opens a dialog window to adjust configuration parameters. \"Precision\" Launches the precision control task. \"MaxROM\" Launches the max range of motion task. You can play a tone at Frequency , Duration and Volume by clicking \"Play Tone\" . Note that this setting is for testing sound only, and is not used in the StartReact task. To adjust task settings, click \"Configure\" . Cursor Tasks Implements some cursor tasks that are fun and can quantify accuracy and speed. Cursor Control Use a Yost device to control the cursor on screen.","title":"Overview"},{"location":"overview/#overview-of-the-bomi-gui","text":"The home screen is divided into Group Boxes, grouped by functionality. Yost Device Manager Trigno Device Manager StartReact Cursor Tasks Cursor Control","title":"Overview of the BoMI GUI"},{"location":"overview/#yost-device-manager","text":"The Yost Device Manager manages the Yost 3-Space Sensors , which provides BoMI with real-time orientation data. Plug the sensors or dongles via USB to the computer, then click \" Discover Devices \" to see a list of devices. \" Tare Devices \" tares all wired and wireless sensors. \" Data Charts \" brings up a scope that visualizes orientation data from all connected sensors. Certain columns of the table showing the list of devices are editable: Nicknames: set a custom name to the devices (e.g., knee, ankle) that will be shown in the scope and in the saved data. Channel: wireless channel of the Yost sensor. Only editable when a wireless sensors is connected through USB. Pan ID: wireless pan ID of the Yost sensor. Only editable when a wireless sensors is connected through USB. (For a sensor and dongle to pair, they must be using the same Channel and Pan ID . It's easier to set this through the 3-Space Sensor Suite GUI ). \" Commit all settings \" commits the edited settings to device. (Nickname is only saved during a BoMI session and not persisted to device) \" Disconnect All \" disconnects from all devices and dongles.","title":"Yost Device Manager"},{"location":"overview/#trigno-device-manager","text":"The Trigno Device Manager manages the Trigno Research System from Delsys. Make sure the Trigno Control Utility (Trigno SDK Server) is running on the computer connected to the Base Station, and the IP address of the computer is entered correctly, then click \" Connect \" to connect to the Base Station. Use the sensor widgets to assign a muscle to each sensor before collecting data.","title":"Trigno Device Manager"},{"location":"overview/#startreact","text":"\"Configure\" opens a dialog window to adjust configuration parameters. \"Precision\" Launches the precision control task. \"MaxROM\" Launches the max range of motion task. You can play a tone at Frequency , Duration and Volume by clicking \"Play Tone\" . Note that this setting is for testing sound only, and is not used in the StartReact task. To adjust task settings, click \"Configure\" .","title":"StartReact"},{"location":"overview/#cursor-tasks","text":"Implements some cursor tasks that are fun and can quantify accuracy and speed.","title":"Cursor Tasks"},{"location":"overview/#cursor-control","text":"Use a Yost device to control the cursor on screen.","title":"Cursor Control"},{"location":"start-react/","text":"Running a StartReact Experiment 1. Activate BoMI Start BoMI by activating the conda environment where you installed BoMI-py , then running bomi in your terminal. $ conda activate bomi # (bomi) $$ bomi The BoMI window will open. 2. Connect Yost 3-Space Sensors Make sure a Yost 3-Space Sensor or a wireless Dongle paired with a wireless sensor is connected via USB to the computer. (Using a USB connection even for a wireless sensor is recommended, as it significantly improves framerate). a. Discover devices Click \"Discover Devices\" . You should see the list of devices. b. Inspect real-time data Click \"Data Charts\" in the Yost Device Manager to bring up a scope and inspect the real-time data. The chart should move as you move the sensor. If nothing shows up, try to reopen the BoMI app and reconnect the devices and the issue normally resolves. 3. Connect Trigno EMG Sensors a. Find the IP address of the Trigno SDK Make sure the Trigno Base Station is connected to a computer, and the Trigno Control Utility (a GUI software that also acts as the Trigno SDK Server) is running on the same computer. Find the local IP address of the Trigno computer by running the following command in its Windows PowerShell: $ ipconfig Windows IP Configuration Ethernet adapter Ethernet: Connection-specific DNS Suffix . : dhcp.wustl.edu Link-local IPv6 Address . . . . . : fe80::1817:7efc:25b9:6df%14 IPv4 Address. . . . . . . . . . . : 10.229.96.234 Subnet Mask . . . . . . . . . . . : 255.255.255.0 Default Gateway . . . . . . . . . : 10.229.96.254 Look for the Ethernet adapter (preferred if the computer is connected to Ethernet) or the Wireless LAN adaptor . Note down the IPv4 Address - that's the local IP address of the computer. Make sure the Trigno computer and the BoMI computer are on the same subnet (usually if two computers are on the same network [Wi-Fi or otherwise], they are in the same subnet). These two can be the same computer if it's convenient. The local IP address doesn't normally change, so once the machines are setup, you can use the same IP address. b. Connect to the Trigno SDK Set the IPv4 address of the Trigno computer in the BoMI GUI: Then click \"Connect\" : Now you should see all the sensors that are paired with the Trigno Base Station. Set the Muscle name and Side of the sensor (each sensor must be assigned to a unique muscle and side). c. Inspect real-time data Click on \"Data Charts\" to open a new window to inspect the real-time data and make sure EMG placement is correct. You can change the muscle names and sides and then reopen the scope to inspect placement. The scope will automatically place different sides of the same muscle on the same row, and different muscles on different rows. 4. Configure StartReact After the Yost 3-Space Sensors and Trigno EMG Sensors are setup, we can configure StartReact. a. Adjust volume First, make sure speakers to produce the auditory and startling sound effects are plugged into the computer. Test the tone by clicking on \"Play Tone\" . Make sure you can achieve a ~115 dB sound with the volume at 100, and ~80 dB with the volume at 1. b. Set StartReact configuration Click on \"Configure\" to bring up a configuration dialog. Hold Time : Amount of time one must hold the angle inside the target to count as success. Pause Min : Minimum pause between trials. Pause Random : Max random pause to add on top of Pause Min . No. Trials per cue : Number of trials for each cue. Since there are three cues (visual, auditory, startling), there will be 3x this number of trials in total. Angle Type : Which angle will be used for the StartReact task metrics. Pitch has been a good one to use. 5. Run an experiment Finally, click on either StartReact task button to open the experiment interface. The interface for \"Precision\" and \"MaxROM\" are basically identical. \"Precision\" : Precision angle matching task. \"MaxROM\" : Max range of motion (ROM) task. a. Edit Metadata Use the Edit Metadata box to enter data about the subject. Subject Id : De-identified ID of the subject. Joint : Name of the joint (e.g., \"Ankle L\" for left ankle). Max ROM : Max ROM of the subject. Ask the subject to test their max ROM and record it here. Stim : Check this box if electrical stimulation is used for this task. Click \"Ok\" to save the metadata to file. b. Begin Task Click \"Begin task\" to start the experiment! All raw data will be stored to disk (Yost 3-Space Sensor, Trigno EMG, task events, metadata, and configurations etc.)","title":"StartReact"},{"location":"start-react/#running-a-startreact-experiment","text":"","title":"Running a StartReact Experiment"},{"location":"start-react/#1-activate-bomi","text":"Start BoMI by activating the conda environment where you installed BoMI-py , then running bomi in your terminal. $ conda activate bomi # (bomi) $$ bomi The BoMI window will open.","title":"1. Activate BoMI"},{"location":"start-react/#2-connect-yost-3-space-sensors","text":"Make sure a Yost 3-Space Sensor or a wireless Dongle paired with a wireless sensor is connected via USB to the computer. (Using a USB connection even for a wireless sensor is recommended, as it significantly improves framerate).","title":"2. Connect Yost 3-Space Sensors"},{"location":"start-react/#a-discover-devices","text":"Click \"Discover Devices\" . You should see the list of devices.","title":"a. Discover devices"},{"location":"start-react/#b-inspect-real-time-data","text":"Click \"Data Charts\" in the Yost Device Manager to bring up a scope and inspect the real-time data. The chart should move as you move the sensor. If nothing shows up, try to reopen the BoMI app and reconnect the devices and the issue normally resolves.","title":"b. Inspect real-time data"},{"location":"start-react/#3-connect-trigno-emg-sensors","text":"","title":"3. Connect Trigno EMG Sensors"},{"location":"start-react/#a-find-the-ip-address-of-the-trigno-sdk","text":"Make sure the Trigno Base Station is connected to a computer, and the Trigno Control Utility (a GUI software that also acts as the Trigno SDK Server) is running on the same computer. Find the local IP address of the Trigno computer by running the following command in its Windows PowerShell: $ ipconfig Windows IP Configuration Ethernet adapter Ethernet: Connection-specific DNS Suffix . : dhcp.wustl.edu Link-local IPv6 Address . . . . . : fe80::1817:7efc:25b9:6df%14 IPv4 Address. . . . . . . . . . . : 10.229.96.234 Subnet Mask . . . . . . . . . . . : 255.255.255.0 Default Gateway . . . . . . . . . : 10.229.96.254 Look for the Ethernet adapter (preferred if the computer is connected to Ethernet) or the Wireless LAN adaptor . Note down the IPv4 Address - that's the local IP address of the computer. Make sure the Trigno computer and the BoMI computer are on the same subnet (usually if two computers are on the same network [Wi-Fi or otherwise], they are in the same subnet). These two can be the same computer if it's convenient. The local IP address doesn't normally change, so once the machines are setup, you can use the same IP address.","title":"a. Find the IP address of the Trigno SDK"},{"location":"start-react/#b-connect-to-the-trigno-sdk","text":"Set the IPv4 address of the Trigno computer in the BoMI GUI: Then click \"Connect\" : Now you should see all the sensors that are paired with the Trigno Base Station. Set the Muscle name and Side of the sensor (each sensor must be assigned to a unique muscle and side).","title":"b. Connect to the Trigno SDK"},{"location":"start-react/#c-inspect-real-time-data","text":"Click on \"Data Charts\" to open a new window to inspect the real-time data and make sure EMG placement is correct. You can change the muscle names and sides and then reopen the scope to inspect placement. The scope will automatically place different sides of the same muscle on the same row, and different muscles on different rows.","title":"c. Inspect real-time data"},{"location":"start-react/#4-configure-startreact","text":"After the Yost 3-Space Sensors and Trigno EMG Sensors are setup, we can configure StartReact.","title":"4. Configure StartReact"},{"location":"start-react/#a-adjust-volume","text":"First, make sure speakers to produce the auditory and startling sound effects are plugged into the computer. Test the tone by clicking on \"Play Tone\" . Make sure you can achieve a ~115 dB sound with the volume at 100, and ~80 dB with the volume at 1.","title":"a. Adjust volume"},{"location":"start-react/#b-set-startreact-configuration","text":"Click on \"Configure\" to bring up a configuration dialog. Hold Time : Amount of time one must hold the angle inside the target to count as success. Pause Min : Minimum pause between trials. Pause Random : Max random pause to add on top of Pause Min . No. Trials per cue : Number of trials for each cue. Since there are three cues (visual, auditory, startling), there will be 3x this number of trials in total. Angle Type : Which angle will be used for the StartReact task metrics. Pitch has been a good one to use.","title":"b. Set StartReact configuration"},{"location":"start-react/#5-run-an-experiment","text":"Finally, click on either StartReact task button to open the experiment interface. The interface for \"Precision\" and \"MaxROM\" are basically identical. \"Precision\" : Precision angle matching task. \"MaxROM\" : Max range of motion (ROM) task.","title":"5. Run an experiment"},{"location":"start-react/#a-edit-metadata","text":"Use the Edit Metadata box to enter data about the subject. Subject Id : De-identified ID of the subject. Joint : Name of the joint (e.g., \"Ankle L\" for left ankle). Max ROM : Max ROM of the subject. Ask the subject to test their max ROM and record it here. Stim : Check this box if electrical stimulation is used for this task. Click \"Ok\" to save the metadata to file.","title":"a. Edit Metadata"},{"location":"start-react/#b-begin-task","text":"Click \"Begin task\" to start the experiment! All raw data will be stored to disk (Yost 3-Space Sensor, Trigno EMG, task events, metadata, and configurations etc.)","title":"b. Begin Task"}]}